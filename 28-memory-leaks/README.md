# –ú–æ–¥—É–ª—å 28: –£—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏

> **–£—Ä–æ–≤–µ–Ω—å**: ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê –≠–∫—Å–ø–µ—Ä—Ç  
> **–í—Ä–µ–º—è**: 6-8 —á–∞—Å–æ–≤

## üìã –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–æ–µ –≤–≤–µ–¥–µ–Ω–∏–µ

### –¢–∏–ø–∏—á–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã —É—Ç–µ—á–µ–∫

1. **–ù–µ–∑–∞–∫—Ä—ã—Ç—ã–µ —Ä–µ—Å—É—Ä—Å—ã**: streams, connections, sockets
2. **–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏**: —Ä–∞—Å—Ç—É—Ç –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ
3. **Listeners**: –Ω–µ –æ—Ç–ø–∏—Å–∞–ª–∏—Å—å –æ—Ç —Å–æ–±—ã—Ç–∏–π
4. **Inner classes**: –¥–µ—Ä–∂–∞—Ç —Å—Å—ã–ª–∫—É –Ω–∞ outer class
5. **ThreadLocal**: –Ω–µ —É–¥–∞–ª–µ–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ
6. **ClassLoader leaks**: —Å—Ç–∞—Ä—ã–µ –≤–µ—Ä—Å–∏–∏ –∫–ª–∞—Å—Å–æ–≤

### Reference Types

```java
StrongReference    // –æ–±—ã—á–Ω–∞—è —Å—Å—ã–ª–∫–∞, –Ω–µ GC
SoftReference<T>   // GC –ø—Ä–∏ –Ω–µ—Ö–≤–∞—Ç–∫–µ –ø–∞–º—è—Ç–∏
WeakReference<T>   // GC –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–π —Å–±–æ—Ä–∫–µ
PhantomReference<T> // –¥–ª—è cleanup actions
```

### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

- **VisualVM / JConsole**: –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- **Eclipse MAT**: –∞–Ω–∞–ª–∏–∑ heap dumps
- **jmap**: —Å–æ–∑–¥–∞–Ω–∏–µ heap dumps
- **jhat**: –∞–Ω–∞–ª–∏–∑ heap dumps (deprecated)

## üéØ –ó–∞–¥–∞–Ω–∏–µ

### –ó–∞–¥–∞—á–∞ 1: –ù–∞–π–¥–∏ —É—Ç–µ—á–∫—É

–í –∫–æ–¥–µ –µ—Å—Ç—å —É—Ç–µ—á–∫–∞ —á–µ—Ä–µ–∑ listener. –ù–∞–π–¥–∏ –∏ –∏—Å–ø—Ä–∞–≤—å.

### –ó–∞–¥–∞—á–∞ 2: WeakReference cache

–†–µ–∞–ª–∏–∑—É–π cache —Å WeakReference –¥–ª—è –∑–Ω–∞—á–µ–Ω–∏–π.

### –ó–∞–¥–∞—á–∞ 3: ThreadLocal cleanup

–†–µ–∞–ª–∏–∑—É–π –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é –æ—á–∏—Å—Ç–∫—É ThreadLocal –≤ thread pool.

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç

- [ ] –ó–Ω–∞–µ—à—å —Ç–∏–ø–∏—á–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã —É—Ç–µ—á–µ–∫
- [ ] –£–º–µ–µ—à—å –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å heap dumps
- [ ] –ü–æ–Ω–∏–º–∞–µ—à—å Reference types
- [ ] –ó–Ω–∞–µ—à—å –ø—Ä–æ ReferenceQueue

