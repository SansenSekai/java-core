# –ú–æ–¥—É–ª—å 29: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

> **–£—Ä–æ–≤–µ–Ω—å**: ‚≠ê‚≠ê‚≠ê‚≠ê –°–ª–æ–∂–Ω—ã–π  
> **–í—Ä–µ–º—è**: 5-7 —á–∞—Å–æ–≤

## üìã –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–æ–µ –≤–≤–µ–¥–µ–Ω–∏–µ

### JMH (Java Microbenchmark Harness)

```java
@Benchmark
@BenchmarkMode(Mode.Throughput)
@Warmup(iterations = 5)
@Measurement(iterations = 10)
@Fork(1)
public void testMethod(Blackhole bh) {
    bh.consume(compute());
}
```

### –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏ –º–∏–∫—Ä–æ–±–µ–Ω—á–º–∞—Ä–∫–æ–≤

1. **Dead code elimination**: JIT —É–¥–∞–ª—è–µ—Ç –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –∫–æ–¥
2. **Constant folding**: JIT –≤—ã—á–∏—Å–ª—è–µ—Ç –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
3. **–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–π warmup**: JIT –Ω–µ —É—Å–ø–µ–ª –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å
4. **Loop unrolling**: JIT —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç —Ü–∏–∫–ª—ã

### –õ–æ–∂–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

‚ùå **–ü—Ä–µ–∂–¥–µ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è** ‚Äî –∑–ª–æ  
‚úÖ **–°–Ω–∞—á–∞–ª–∞ –∏–∑–º–µ—Ä—å, –ø–æ—Ç–æ–º –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–π**

### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏—è

- **JFR (Java Flight Recorder)**: –≤—Å—Ç—Ä–æ–µ–Ω –≤ JDK
- **async-profiler**: –Ω–∏–∑–∫–∏–π overhead
- **VisualVM**: GUI –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- **jcmd**: –∫–æ–º–∞–Ω–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞

## üéØ –ó–∞–¥–∞–Ω–∏–µ

### –ó–∞–¥–∞—á–∞ 1: –°—Ä–∞–≤–Ω–µ–Ω–∏–µ String –æ–ø–µ—Ä–∞—Ü–∏–π

JMH –±–µ–Ω—á–º–∞—Ä–∫: + vs StringBuilder vs StringBuffer.

### –ó–∞–¥–∞—á–∞ 2: –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∫–æ–ª–ª–µ–∫—Ü–∏–π

ArrayList vs LinkedList –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.

### –ó–∞–¥–∞—á–∞ 3: –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–ù–∞–π–¥–∏ bottleneck –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ —Å JFR.

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç

- [ ] –£–º–µ–µ—à—å –ø–∏—Å–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ JMH –±–µ–Ω—á–º–∞—Ä–∫–∏
- [ ] –ó–Ω–∞–µ—à—å –ø—Ä–æ JIT –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- [ ] –ü–æ–Ω–∏–º–∞–µ—à—å –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] –ò–∑–±–µ–≥–∞–µ—à—å –ø—Ä–µ–∂–¥–µ–≤—Ä–µ–º–µ–Ω–Ω–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

