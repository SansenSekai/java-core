# –ú–æ–¥—É–ª—å 08: –í–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ HashMap

> **–£—Ä–æ–≤–µ–Ω—å**: ‚≠ê‚≠ê‚≠ê‚≠ê –°–ª–æ–∂–Ω—ã–π  
> **–í—Ä–µ–º—è**: 4-6 —á–∞—Å–æ–≤

## üìã –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–æ–µ –≤–≤–µ–¥–µ–Ω–∏–µ

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ HashMap

- **–ú–∞—Å—Å–∏–≤ bucket'–æ–≤** (`Node<K,V>[] table`)
- –ù–∞—á–∞–ª—å–Ω–∞—è —ë–º–∫–æ—Å—Ç—å: **16**
- Load factor: **0.75** (–ø–æ—Ä–æ–≥ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è)
- –ü—Ä–∏ –∫–æ–ª–ª–∏–∑–∏–∏: **—Å–≤—è–∑–Ω—ã–π —Å–ø–∏—Å–æ–∫ ‚Üí –∫—Ä–∞—Å–Ω–æ-—á—ë—Ä–Ω–æ–µ –¥–µ—Ä–µ–≤–æ** (–ø—Ä–∏ ‚â•8 —ç–ª–µ–º–µ–Ω—Ç–∞—Ö)

### –ü—Ä–æ—Ü–µ—Å—Å put()

1. –í—ã—á–∏—Å–ª–∏—Ç—å `hash = hashCode() ^ (hashCode() >>> 16)` (spread)
2. –ù–∞–π—Ç–∏ bucket: `index = hash & (n-1)` (–≥–¥–µ n = —Ä–∞–∑–º–µ—Ä –º–∞—Å—Å–∏–≤–∞)
3. –ï—Å–ª–∏ bucket –ø—É—Å—Ç ‚Üí —Å–æ–∑–¥–∞—Ç—å Node
4. –ï—Å–ª–∏ –∑–∞–Ω—è—Ç ‚Üí –¥–æ–±–∞–≤–∏—Ç—å –≤ —Å–ø–∏—Å–æ–∫/–¥–µ—Ä–µ–≤–æ –∏–ª–∏ –æ–±–Ω–æ–≤–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ
5. –ï—Å–ª–∏ size > threshold ‚Üí resize (—É–¥–≤–æ–µ–Ω–∏–µ)

### Treeification

–ü—Ä–∏ ‚â•8 —ç–ª–µ–º–µ–Ω—Ç–∞—Ö –≤ –æ–¥–Ω–æ–º bucket'–µ —Å–ø–∏—Å–æ–∫ –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ **–∫—Ä–∞—Å–Ω–æ-—á—ë—Ä–Ω–æ–µ –¥–µ—Ä–µ–≤–æ** –¥–ª—è O(log n) –ø–æ–∏—Å–∫–∞ –≤–º–µ—Å—Ç–æ O(n).

## üéØ –ó–∞–¥–∞–Ω–∏–µ

### –ó–∞–¥–∞—á–∞ 1: –†–µ–∞–ª–∏–∑—É–π SimpleHashMap

–°–æ–∑–¥–∞–π —É–ø—Ä–æ—â—ë–Ω–Ω—É—é HashMap:
- –ú–∞—Å—Å–∏–≤ bucket'–æ–≤
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–ª–ª–∏–∑–∏–π —á–µ—Ä–µ–∑ —Å–≤—è–∑–Ω—ã–π —Å–ø–∏—Å–æ–∫
- resize() –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ load factor
- –ú–µ—Ç–æ–¥—ã: put, get, remove, containsKey, size

### –ó–∞–¥–∞—á–∞ 2: –ê–Ω–∞–ª–∏–∑ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è

–ù–∞–ø–∏—à–∏ –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π:
- –î–æ–±–∞–≤–ª—è–µ—Ç 1,000,000 —Å–ª—É—á–∞–π–Ω—ã—Ö –∫–ª—é—á–µ–π
- –ü–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ—Ç —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ bucket'–∞–º
- –ù–∞—Ö–æ–¥–∏—Ç —Å–∞–º—ã–π –¥–ª–∏–Ω–Ω—ã–π ¬´—Ö–≤–æ—Å—Ç¬ª (longest chain)

### –ó–∞–¥–∞—á–∞ 3: –ü–ª–æ—Ö–æ–π hashCode

–°–æ–∑–¥–∞–π –∫–ª–∞—Å—Å —Å –Ω–∞–º–µ—Ä–µ–Ω–Ω–æ –ø–ª–æ—Ö–∏–º hashCode() (–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É).
–ó–∞–º–µ—Ä—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å HashMap —Å —Ç–∞–∫–∏–º–∏ –∫–ª—é—á–∞–º–∏.

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç

- [ ] –ü–æ–Ω–∏–º–∞–µ—à—å, –∑–∞—á–µ–º –Ω—É–∂–µ–Ω spread hash
- [ ] –ó–Ω–∞–µ—à—å, –ø–æ—á–µ–º—É —Ä–∞–∑–º–µ—Ä –≤—Å–µ–≥–¥–∞ —Å—Ç–µ–ø–µ–Ω—å –¥–≤–æ–π–∫–∏
- [ ] –ü–æ–Ω–∏–º–∞–µ—à—å –º–µ—Ö–∞–Ω–∏–∑–º resize –∏ rehash
- [ ] –ó–Ω–∞–µ—à—å –ø—Ä–æ tree bins –∏ –∫–æ–≥–¥–∞ –æ–Ω–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è

