# –ú–æ–¥—É–ª—å 06: –ö–æ–Ω—Ç—Ä–∞–∫—Ç equals/hashCode

> **–£—Ä–æ–≤–µ–Ω—å**: ‚≠ê‚≠ê‚≠ê –°—Ä–µ–¥–Ω–∏–π+  
> **–í—Ä–µ–º—è**: 3-4 —á–∞—Å–∞  
> **–ü—Ä–µ—Ä–µ–∫–≤–∏–∑–∏—Ç—ã**: –ú–æ–¥—É–ª–∏ 01-02

## üìã –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–æ–µ –≤–≤–µ–¥–µ–Ω–∏–µ

### –ö–æ–Ω—Ç—Ä–∞–∫—Ç equals()

–°–æ–≥–ª–∞—Å–Ω–æ Javadoc, `equals()` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å:

1. **–†–µ—Ñ–ª–µ–∫—Å–∏–≤–Ω—ã–º**: `x.equals(x)` = true
2. **–°–∏–º–º–µ—Ç—Ä–∏—á–Ω—ã–º**: `x.equals(y)` = `y.equals(x)`
3. **–¢—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω—ã–º**: –µ—Å–ª–∏ `x.equals(y)` –∏ `y.equals(z)`, —Ç–æ `x.equals(z)`
4. **–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–º**: –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω—ã–µ –≤—ã–∑–æ–≤—ã –¥–∞—é—Ç —Ç–æ—Ç –∂–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç
5. **null-safe**: `x.equals(null)` = false

### –ö–æ–Ω—Ç—Ä–∞–∫—Ç hashCode()

1. **–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å**: –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω—ã–µ –≤—ã–∑–æ–≤—ã –¥–∞—é—Ç —Ç–æ—Ç –∂–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç (–µ—Å–ª–∏ –æ–±—ä–µ–∫—Ç –Ω–µ –∏–∑–º–µ–Ω–∏–ª—Å—è)
2. **–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å —Å equals**: –µ—Å–ª–∏ `a.equals(b)`, —Ç–æ `a.hashCode() == b.hashCode()`
3. **–û–±—Ä–∞—Ç–Ω–æ–µ –ù–ï —Ç—Ä–µ–±—É–µ—Ç—Å—è**: –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ hashCode –ù–ï –æ–∑–Ω–∞—á–∞—é—Ç equals

### –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏

1. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ getClass() vs instanceof**: –ª–æ–º–∞–µ—Ç —Å–∏–º–º–µ—Ç—Ä–∏—á–Ω–æ—Å—Ç—å –≤ –∏–µ—Ä–∞—Ä—Ö–∏–∏
2. **–ú—É—Ç–∞–±–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –≤ hashCode**: –æ–±—ä–µ–∫—Ç ¬´—Ç–µ—Ä—è–µ—Ç—Å—è¬ª –≤ HashMap
3. **–ù–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—Ç—å hashCode –ø—Ä–∏ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–∏ equals**
4. **–ù–µ–ø–æ–ª–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–ª–µ–π**: –∑–∞–±—ã—Ç—å —Å—Ä–∞–≤–Ω–∏—Ç—å –∫–∞–∫–æ–µ-—Ç–æ –ø–æ–ª–µ

## üéØ –ó–∞–¥–∞–Ω–∏–µ

### –ó–∞–¥–∞—á–∞ 1: –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è –ø—Ä–æ—Å—Ç–æ–≥–æ –∫–ª–∞—Å—Å–∞

–†–µ–∞–ª–∏–∑—É–π `equals()` –∏ `hashCode()` –¥–ª—è `Money`:
- `amount` (BigDecimal)
- `currency` (String)

### –ó–∞–¥–∞—á–∞ 2: equals/hashCode –≤ –∏–µ—Ä–∞—Ä—Ö–∏–∏ –∫–ª–∞—Å—Å–æ–≤

–†–µ–∞–ª–∏–∑—É–π –¥–ª—è –∏–µ—Ä–∞—Ä—Ö–∏–∏ `Shape` ‚Üí `ColoredShape`:
- Shape: `area()`
- ColoredShape –¥–æ–±–∞–≤–ª—è–µ—Ç `color`

**–í–æ–ø—Ä–æ—Å**: –î–æ–ª–∂–µ–Ω –ª–∏ `ColoredShape` –±—ã—Ç—å —Ä–∞–≤–µ–Ω `Shape` —Å —Ç–æ–π –∂–µ –ø–ª–æ—â–∞–¥—å—é?

### –ó–∞–¥–∞—á–∞ 3: –û—Ç–ª–∞–¥–∫–∞ HashMap

–ö–ª–∞—Å—Å `BadKey` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ –∫–ª—é—á –≤ HashMap, –Ω–æ —ç–ª–µ–º–µ–Ω—Ç—ã ¬´—Ç–µ—Ä—è—é—Ç—Å—è¬ª.
–ù–∞–π–¥–∏ –∏ –∏—Å–ø—Ä–∞–≤—å –æ—à–∏–±–∫—É.

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç

- [ ] equals() —Ä–µ—Ñ–ª–µ–∫—Å–∏–≤–µ–Ω, —Å–∏–º–º–µ—Ç—Ä–∏—á–µ–Ω, —Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–µ–Ω
- [ ] hashCode() —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω —Å equals()
- [ ] –ù–µ—Ç –º—É—Ç–∞–±–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π, —É—á–∞—Å—Ç–≤—É—é—â–∏—Ö –≤ equals/hashCode
- [ ] –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Objects.equals() –∏ Objects.hash()

