# –ú–æ–¥—É–ª—å 04: –ú–∞—Å—Ç–µ—Ä—Å—Ç–≤–æ —Ä–∞–±–æ—Ç—ã —Å –∏—Å–∫–ª—é—á–µ–Ω–∏—è–º–∏

> **–£—Ä–æ–≤–µ–Ω—å**: ‚≠ê‚≠ê –°—Ä–µ–¥–Ω–∏–π  
> **–í—Ä–µ–º—è**: 2-3 —á–∞—Å–∞  
> **–ü—Ä–µ—Ä–µ–∫–≤–∏–∑–∏—Ç—ã**: –ë–∞–∑–æ–≤–æ–µ –∑–Ω–∞–Ω–∏–µ Java

## üìã –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–æ–µ –≤–≤–µ–¥–µ–Ω–∏–µ

### –ò–µ—Ä–∞—Ä—Ö–∏—è –∏—Å–∫–ª—é—á–µ–Ω–∏–π –≤ Java

```
Throwable
‚îú‚îÄ‚îÄ Error (–Ω–µ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—Ç—å!)
‚îÇ   ‚îú‚îÄ‚îÄ OutOfMemoryError
‚îÇ   ‚îú‚îÄ‚îÄ StackOverflowError
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îî‚îÄ‚îÄ Exception
    ‚îú‚îÄ‚îÄ RuntimeException (unchecked)
    ‚îÇ   ‚îú‚îÄ‚îÄ NullPointerException
    ‚îÇ   ‚îú‚îÄ‚îÄ IllegalArgumentException
    ‚îÇ   ‚îú‚îÄ‚îÄ IllegalStateException
    ‚îÇ   ‚îî‚îÄ‚îÄ ...
    ‚îî‚îÄ‚îÄ Checked Exceptions
        ‚îú‚îÄ‚îÄ IOException
        ‚îú‚îÄ‚îÄ SQLException
        ‚îî‚îÄ‚îÄ ...
```

### Checked vs Unchecked: –∫–æ–≥–¥–∞ —á—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?

| –¢–∏–ø | –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å | –ü—Ä–∏–º–µ—Ä—ã |
|-----|-------------------|---------|
| **Checked** | –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏–º—ã–µ –æ—à–∏–±–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–∑—ã–≤–∞—é—â–∏–π –∫–æ–¥ –¥–æ–ª–∂–µ–Ω –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å | IOException, SQLException |
| **Unchecked** | –û—à–∏–±–∫–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è, –±–∞–≥–∏ –≤ –∫–æ–¥–µ | NullPointerException, IllegalArgumentException |

### –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏ Senior-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

1. **–ü—É—Å—Ç—ã–µ catch-–±–ª–æ–∫–∏**: –ø–æ—Ç–µ—Ä—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –æ—à–∏–±–∫–∞—Ö
2. **Catch Throwable**: –ø–µ—Ä–µ—Ö–≤–∞—Ç Error –∏ OutOfMemoryError
3. **–ü–æ–¥–∞–≤–ª–µ–Ω–∏–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–π**: catch, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ—Å—Ç–æ –ª–æ–≥–∏—Ä—É–µ—Ç –∏ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç
4. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π re-throw**: –ø–æ—Ç–µ—Ä—è stack trace
5. **–ò–∑–±—ã—Ç–æ—á–Ω—ã–µ checked exceptions**: –¥–µ–ª–∞–µ—Ç API –Ω–µ—É–¥–æ–±–Ω—ã–º

### Best Practices

1. **–ò—Å–ø–æ–ª—å–∑—É–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è JDK**: `IllegalArgumentException`, `IllegalStateException`, `NullPointerException`, `UnsupportedOperationException`
2. **–ò—Å–∫–ª—é—á–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–º–∏**: –≤–∫–ª—é—á–∞–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –≤ —Å–æ–æ–±—â–µ–Ω–∏–µ
3. **Fail fast**: –ø—Ä–æ–≤–µ—Ä—è–π –∞—Ä–≥—É–º–µ–Ω—Ç—ã –≤ –Ω–∞—á–∞–ª–µ –º–µ—Ç–æ–¥–∞
4. **–ù–µ –∏—Å–ø–æ–ª—å–∑—É–π –∏—Å–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ—Ç–æ–∫–æ–º**: —ç—Ç–æ –¥–æ—Ä–æ–≥–æ –∏ –Ω–µ–æ—á–µ–≤–∏–¥–Ω–æ
5. **Try-with-resources**: –¥–ª—è –≤—Å–µ—Ö —Ä–µ—Å—É—Ä—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –∑–∞–∫—Ä—ã—Ç—å

## üéØ –ó–∞–¥–∞–Ω–∏–µ

### –ó–∞–¥–∞—á–∞ 1: –°–æ–∑–¥–∞–Ω–∏–µ –¥–æ–º–µ–Ω–Ω—ã—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π

–°–æ–∑–¥–∞–π –∏–µ—Ä–∞—Ä—Ö–∏—é –∏—Å–∫–ª—é—á–µ–Ω–∏–π –¥–ª—è –±–∞–Ω–∫–æ–≤—Å–∫–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

```
BankingException (–±–∞–∑–æ–≤–æ–µ)
‚îú‚îÄ‚îÄ AccountException
‚îÇ   ‚îú‚îÄ‚îÄ AccountNotFoundException
‚îÇ   ‚îú‚îÄ‚îÄ AccountBlockedException
‚îÇ   ‚îî‚îÄ‚îÄ InsufficientFundsException
‚îú‚îÄ‚îÄ TransactionException
‚îÇ   ‚îú‚îÄ‚îÄ TransactionDeclinedException
‚îÇ   ‚îî‚îÄ‚îÄ DuplicateTransactionException
‚îî‚îÄ‚îÄ ValidationException
    ‚îú‚îÄ‚îÄ InvalidAmountException
    ‚îî‚îÄ‚îÄ InvalidAccountNumberException
```

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è**:
1. –ö–∞–∂–¥–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –∏–º–µ—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
2. –ò—Å–∫–ª—é—á–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã —Ö—Ä–∞–Ω–∏—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç (ID —Å—á—ë—Ç–∞, —Å—É–º–º—É —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∏ —Ç.–¥.)
3. –†–µ—à–∏, –∫–∞–∫–∏–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å checked, –∞ –∫–∞–∫–∏–µ unchecked

### –ó–∞–¥–∞—á–∞ 2: –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π

–†–µ–∞–ª–∏–∑—É–π —Å–µ—Ä–≤–∏—Å `MoneyTransferService`:
- –ü–µ—Ä–µ–≤–æ–¥–∏—Ç –¥–µ–Ω—å–≥–∏ –º–µ–∂–¥—É —Å—á–µ—Ç–∞–º–∏
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏
- –õ–æ–≥–∏—Ä—É–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏ –æ—à–∏–±–∫–∏
- –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –∞—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç—å (–ª–∏–±–æ –ø–µ—Ä–µ–≤–æ–¥ –∑–∞–≤–µ—Ä—à—ë–Ω, –ª–∏–±–æ –æ—Ç–∫–∞—á–µ–Ω)

### –ó–∞–¥–∞—á–∞ 3: Try-with-resources

–†–µ–∞–ª–∏–∑—É–π `FileProcessor`:
- –ß–∏—Ç–∞–µ—Ç —Ñ–∞–π–ª –ø–æ—Å—Ç—Ä–æ—á–Ω–æ
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–∞–∂–¥—É—é —Å—Ç—Ä–æ–∫—É
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç —Ä–µ—Å—É—Ä—Å—ã –¥–∞–∂–µ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–æ–¥–∞–≤–ª–µ–Ω–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è (suppressed exceptions)

## üß™ –¢–µ—Å—Ç—ã

```bash
mvn test
```

–¢–µ—Å—Ç—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç:
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–π –∏—Å–∫–ª—é—á–µ–Ω–∏–π
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –≤ –∏—Å–∫–ª—é—á–µ–Ω–∏—è—Ö
- –ü—Ä–∞–≤–∏–ª—å–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É —Ä–µ—Å—É—Ä—Å–æ–≤
- –ê—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–π

## ü§î –ú–µ—Ç–∞-–≤–æ–ø—Ä–æ—Å—ã –¥–ª—è —Ä–∞–∑–º—ã—à–ª–µ–Ω–∏—è

1. –ü–æ—á–µ–º—É Java 7 –¥–æ–±–∞–≤–∏–ª try-with-resources –≤–º–µ—Å—Ç–æ finally?
2. –í —á—ë–º –ø—Ä–æ–±–ª–µ–º–∞ —Å throws Exception –≤ —Å–∏–≥–Ω–∞—Ç—É—Ä–µ –º–µ—Ç–æ–¥–∞?
3. –ö–æ–≥–¥–∞ —Å—Ç–æ–∏—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–≤–æ–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è, –∞ –∫–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ?
4. –ö–∞–∫ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –≤–ª–∏—è—é—Ç –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å?
5. –ü–æ—á–µ–º—É –Ω–µ —Å—Ç–æ–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤–≤–æ–¥–∞?

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∏

### –°–æ–∑–¥–∞–Ω–∏–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–π
- [ ] –í—ã–±—Ä–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–∏–ø (checked/unchecked)
- [ ] –°–æ–æ–±—â–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–æ –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç
- [ ] –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ
- [ ] –ò–µ—Ä–∞—Ä—Ö–∏—è –ª–æ–≥–∏—á–Ω–∞ –∏ –Ω–µ –∏–∑–±—ã—Ç–æ—á–Ω–∞

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π
- [ ] –ù–µ—Ç –ø—É—Å—Ç—ã—Ö catch-–±–ª–æ–∫–æ–≤
- [ ] –ù–µ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç—Å—è Throwable/Error
- [ ] Stack trace –Ω–µ —Ç–µ—Ä—è–µ—Ç—Å—è –ø—Ä–∏ re-throw
- [ ] –†–µ—Å—É—Ä—Å—ã –∑–∞–∫—Ä—ã–≤–∞—é—Ç—Å—è –≤ try-with-resources

### –î–∏–∑–∞–π–Ω API
- [ ] –ò—Å–∫–ª—é—á–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤ Javadoc
- [ ] Checked exceptions –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏–º—ã—Ö –æ—à–∏–±–æ–∫
- [ ] Fail fast: –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤ –Ω–∞—á–∞–ª–µ –º–µ—Ç–æ–¥–∞

